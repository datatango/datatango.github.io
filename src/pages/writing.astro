---
import { getCollection } from "astro:content";
import Base from "../layouts/Base.astro";

const posts = (await getCollection("writing")).sort(
  (a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
);
---

<Base title="Writing">
  <h1 class="text-2xl font-medium mb-8">Writing</h1>
  <ul class="space-y-6">
    {posts.map((post) => (
      <li>
        <a href={`/writing/${post.id}`} class="group block">
          <span class="text-zinc-400 text-sm">{post.data.date}</span>
          <h2 class="group-hover:text-zinc-400 transition-colors">{post.data.title}</h2>
          {post.data.description && (
            <p class="text-zinc-500 text-sm mt-1">{post.data.description}</p>
          )}
        </a>
      </li>
    ))}
  </ul>
</Base>